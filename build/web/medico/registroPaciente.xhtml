<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:my="http://java.sun.com/jsf/composite/recursos"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<!--    <f:event listener="#{LoginBean.accessoMedico()}" type="preRenderView" />-->

    <h:head>
        <title>American College</title>
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/img/favicon.ico" />
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/main.css" />
    </h:head>

    <my:cabecera id="cabecera"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.71/pdfmake.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.71/vfs_fonts.js"></script>


    <b:scrollUp distance="200" animation="fade" text="" name="scrollUpCustom" />

    <b:growl id="growl" escape="true" />

    <h:body>
        <b:column>
            <my:menuLateralMedico id="menuLateralMedico"/>
            <p:idleMonitor timeout="600000">
                <p:ajax event="idle" listener="#{loginBean.sesionInactiva()}" />
            </p:idleMonitor>
            
        <b:container fluid="true">
            #{PacienteBean.inicializarPaciente()}

            <b:panel span="10" offset="0">
                <b:row>
                    <b:column span="12" style="text-align: center;">
                        <h2><b>Registro Paciente</b></h2>
                    </b:column>
                    <b:column span="12" style="text-align: center;">
                        <h6>Todos los campos marcados con * son obligatorios</h6>
                    </b:column>
                </b:row>
                <b:row>
                    <br/>
                </b:row>
                <b:form class="pageForm" id="commentform">
                    <b:panel title="Datos Generales" look="info" collapsible="false">
                        <b:row>
                            <b:column span="6">
                                <b:inputText label="Apellidos"
                                             placeholder="Ingrese sus apellidos"
                                             id="per_apellidos"
                                             size="13"
                                             maxlength="100"
                                             value="#{PacienteBean.per_apellidos}"
                                             required="true"
                                             requiredMessage="Ingrese sus apellidos"/>
                            </b:column>
                            <b:column span="6">
                                <b:inputText label="Nombres"
                                             placeholder="Ingrese sus nombres"
                                             id="per_nombres"
                                             size="13"
                                             maxlength="100"
                                             value="#{PacienteBean.per_nombres}"
                                             required="true"
                                             requiredMessage="Ingrese sus nombres"/>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="2">

                                <b:selectOneMenu label="Sexo del paciente"
                                                 id="per_sexo"
                                                 value="#{PacienteBean.per_sexo}"
                                                 required="true"
                                                 requiredMessage="Seleccione el sexo del paciente">
                                    <f:selectItem itemLabel="Seleccionar" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Hombre" itemValue="1" />
                                    <f:selectItem itemLabel="Mujer" itemValue="2" />
                                </b:selectOneMenu>
                                <b:message for="tipoPersona" />
                            </b:column>

                            <b:column span="2">
                                <b:selectOneMenu label="Género" id="per_identidad_genero"
                                                 value="#{PacienteBean.per_identidad_genero}"
                                                 required="true"
                                                 requiredMessage="Seleccione el género">
                                    <f:selectItem itemLabel="Seleccione"
                                                  noSelectionOption="true"/>
                                    <f:selectItem itemLabel="Masculino" itemValue="1" />
                                    <f:selectItem itemLabel="Femenino" itemValue="2" />
                                    <f:selectItem itemLabel="Otro" itemValue="3" />
                                    <f:ajax render="" />
                                </b:selectOneMenu>
                                <b:message for="per_identidad_genero" />
                            </b:column>

                            <b:column span="3">
                                <b:dateTimePicker
                                    id="per_nac"
                                    format="DD/MM/YYYY"
                                    locale="en"
                                    value="#{PacienteBean.per_nac}"
                                    label="Fecha de Nacimiento"
                                    required="true"
                                    requiredMessage="Ingrese la fecha de nacimiento"
                                    max-date="12/31/2006" />
                                <b:message />
                            </b:column>

                            <b:column span="2">
                                <b:inputText label="Grupo sanguíneo"
                                             placeholder="Grupo Sanguíneo"
                                             id="per_grupo_sanguineo" size="10"
                                             maxlength="10"
                                             value="#{PacienteBean.per_grupo_sanguineo}"
                                             required="true"
                                             requiredMessage="Ingrese el grupo sanguíneo"
                                             />
                            </b:column>
                            <b:column span="3">
                                <b:selectOneMenu label="Profesión" id="per_profesion"
                                                 value="#{PacienteBean.per_profesion}"
                                                 required="true"
                                                 requiredMessage="Seleccione la profesión">
                                    <f:selectItem itemLabel="Seleccione"
                                                  noSelectionOption="true"/>
                                    <f:selectItem itemLabel="Doctor" itemValue="1" />
                                    <f:selectItem itemLabel="Ingeniero" itemValue="2" />
                                    <f:selectItem itemLabel="Otro" itemValue="3" />
                                    <f:ajax render="" />
                                </b:selectOneMenu>
                                <b:message for="per_identidad_genero" />
                            </b:column>
                        </b:row>

                        <b:row style="text-align: center;" contentDisabled="false">

                            <b:column offset="3" span="2">
                                <b:button large-screen="full-width"
                                          id="salir"
                                          value="Regresar"
                                          href="./home"
                                          look="danger" />
                            </b:column>
                            <b:column offset="2" span="2">
                                <b:commandButton
                                    large-screen="full-width"
                                    id="submit"
                                    value="Siguiente"
                                    type="submit"
                                    action="#{PacienteBean.guardarPersona()}"
                                    look="success" />
                            </b:column>
                        </b:row>

                        <br/><br/><br/>

                    </b:panel>
                </b:form>
            </b:panel>
        </b:container>
        <br/><br/><br/><br/>
        </b:column>
    </h:body>

</html>