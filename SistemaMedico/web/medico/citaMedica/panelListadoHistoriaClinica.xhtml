<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:my="http://java.sun.com/jsf/composite/recursos"
      xmlns:p="http://primefaces.org/ui">
    
    <b:panelGrid columns="1">
        <b:row>
            <b:column span="12" class="text-center">
                <b:commandButton ajax="true"
                                 id="visible_historia_clinica"
                                 iconAwesome="#{CitaBean.historialLista.get('historia_clinica') ? 'fa-eye' : 'fa-eye-slash'}"
                                 action="#{CitaBean.cambioHistoriaList('historia_clinica')}"
                                 value="#{CitaBean.historialLista.get('historia_clinica') ? '&nbsp; Mostrar Historial' : '&nbsp; Ocultar Historial'}"
                                 update="visible_historia_clinica  :formHistoriaClinica:panelListadoHistoriaClinica :growl"
                                 tooltip="#{CitaBean.historialLista.get('historia_clinica') ?  'Mostrar Historial' : 'Ocultar Historial'}" look="primary">
                </b:commandButton>
            </b:column>
        </b:row>
        <br/>
        <p:outputPanel id="panelListadoHistoriaClinica" >
            <b:panel title="Historial de historias clÃ­nicas" look="info" collapsible="false" id="historialPanel" span="12" rendered="#{!CitaBean.historialLista.get('historia_clinica')}">
                <b:dataTable large-screen="full-width" id="examenesHistoriaTabla" value="#{CitaBean.lista_historial_historias}" var="historiaHistoriaClinica" responsive="true" style="font-size: 11px; width: 100%" info="true" content-disabled="false" searching="true"
                   page-length="7" multi-column-search="true" multi-column-search-position="top" >
                   <b:dataTableColumn label="Fecha" value="#{CitaBean.fechaFormatoYMDS(historiaHistoriaClinica.hisFechaUlt)}" style="width: 15%" />
                   <b:dataTableColumn label="Motivo de consulta" value="#{historiaHistoriaClinica.hisMotivo}" style="width: 35%" />
                   <b:dataTableColumn label="Enfermedad actual" value="#{historiaHistoriaClinica.hisEnfermedad}" style="width: 35%" />
                   <b:dataTableColumn label="Doctor" orderable="false" searchable="false" value="#{historiaHistoriaClinica.personasByMedicoPerId.perApellidos} #{historiaHistoriaClinica.personasByMedicoPerId.perNombres}" style="width: 15%" />
                </b:dataTable>
            </b:panel>
        </p:outputPanel>
    </b:panelGrid>
</html>
