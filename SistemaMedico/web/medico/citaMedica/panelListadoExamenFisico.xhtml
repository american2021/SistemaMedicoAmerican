<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:my="http://java.sun.com/jsf/composite/recursos"
      xmlns:p="http://primefaces.org/ui">
    
    <b:panelGrid columns="1">
        <b:row>
            <b:column span="12" class="text-center">
                    <b:commandButton ajax="true"
                                     immediate="true"
                                     process="@this"
                                     id="visible_examen_fisico"
                                     iconAwesome="#{CitaBean.historialLista.get('examen_fisico') ? 'fa-eye' : 'fa-eye-slash'}"
                                     action="#{CitaBean.cambioHistoriaList('examen_fisico')}"
                                     value="#{CitaBean.historialLista.get('examen_fisico') ? '&nbsp; Mostrar Historial' : '&nbsp; Ocultar Historial'}"
                                     update="visible_examen_fisico :formExamenFisico:panelListadoExamenFisico :growl"
                                     tooltip="#{CitaBean.historialLista.get('examen_fisico') ?  'Mostrar Historial' : 'Ocultar Historial'}" look="primary">
                    </b:commandButton>
            </b:column>
        </b:row>
        <br/>
        <p:outputPanel id="panelListadoExamenFisico">
            <b:panel title="Historial de exámenes físico" 
                     look="info" 
                     collapsible="false"
                     span="12"
                     rendered="#{!CitaBean.historialLista.get('examen_fisico')}">
                <b:dataTable large-screen="full-width" id="examenesHistoriaTabla" 
                             value="#{CitaBean.lista_historial_historias}" 
                             var="historiaHistoriaClinica" responsive="true" 
                             style="font-size: 11px; width: 100%" 
                             info="true" content-disabled="false" 
                             searching="true" page-length="7" 
                             multi-column-search="true" 
                             multi-column-search-position="top" >
                    <b:dataTableColumn label="Fecha" value="#{CitaBean.fechaFormatoYMDS(historiaHistoriaClinica.hisFechaUlt)}" style="width: 15%" />
                    <b:dataTableColumn label="Examen General" value="#{historiaHistoriaClinica.hisExamenGeneral}" style="width: 35%" />
                    <b:dataTableColumn label="Examen Neurologico" value="#{historiaHistoriaClinica.hisExamenNeurologico}" style="width: 35%" />
                    <b:dataTableColumn label="Doctor" orderable="false" searchable="false" value="#{historiaHistoriaClinica.personasByMedicoPerId.perApellidos} #{historiaHistoriaClinica.personasByMedicoPerId.perNombres}" style="width: 15%" />
                </b:dataTable>
            </b:panel>
        </p:outputPanel>
    </b:panelGrid>
</html>
